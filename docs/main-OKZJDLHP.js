import{a as Re}from"./chunk-HGFE67KZ.js";import{a as ue,b as ge,c as fe,d as ve,e as ye,f as _e,g as Ce,h as Oe,i as Me,j as Pe,k as be,l as Se,m as ke,n as _}from"./chunk-KXDRYK6V.js";import"./chunk-J4OVBQZD.js";import{m as Ae}from"./chunk-FLJJF36S.js";import{b as he,c as y}from"./chunk-IZXJ5OQA.js";import"./chunk-U4UTBI7T.js";import"./chunk-U2Q7NHL3.js";import{b as xe,d as we}from"./chunk-AWSUHQ36.js";import{a as oe,b as ie,c as re,d as ae,e as le,f as se,g as ce,h as de,i as pe,j as me}from"./chunk-ZP7N7TL4.js";import{a as te,b as ne}from"./chunk-I2GCBKKZ.js";import{Ib as c,Jb as v,Kb as K,Na as d,Nb as W,O as E,Q as N,Qa as U,Sb as X,T as F,Ta as B,W as r,X as T,_a as g,ba as S,ca as k,db as $,dc as ee,fa as L,ga as H,gb as Y,ha as z,ka as j,kb as x,lb as h,nb as J,o as P,pa as u,pb as Q,q as D,qb as Z,rb as a,sb as l,tb as f,u as I,ua as G,wb as q,x as b,xa as V,yb as m,zb as w}from"./chunk-GNHLBSKU.js";import"./chunk-NWM22BJ3.js";import"./chunk-7CGTOI24.js";var He="@",ze=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=r(L);loadingSchedulerFn=r(je,{optional:!0});_engine;constructor(t,n,o,s,p){this.doc=t,this.delegate=n,this.zone=o,this.animationType=s,this.moduleImpl=p}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-HSXE7B5K.js").then(o=>o),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(o=>{throw new E(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let p=new s(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(t,n){let o=this.delegate.createRenderer(t,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new A(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(p=>{let Le=p.createRenderer(t,n);s.use(Le),this.scheduler??=this.injector.get(z,null,{optional:!0}),this.scheduler?.notify(10)}).catch(p=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(n){B()};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),A=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,o){this.delegate.insertBefore(e,t,n,o)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,o){this.delegate.setAttribute(e,t,n,o)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,o){this.delegate.setStyle(e,t,n,o)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,o){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(e,t,n,o)),this.delegate.listen(e,t,n,o)}shouldReplay(e){return this.replay!==null&&e.startsWith(He)}},je=new F("");function De(i="animations"){return V("NgAsyncAnimations"),T([{provide:U,useFactory:(e,t,n)=>new ze(e,t,n,i),deps:[ee,te,j]},{provide:G,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Ie(){let i=[r(ue),r(ge),r(Oe),r(he),r(Pe),r(be),r(Se),r(fe),r(ve),r(ye),r(ke),r(_e),r(Ce),r(Me)];return I(i.map(e=>e.initialized$))}var Ee=()=>{if(r(_).isGameInProgress()){let e=r(Ae),t={header:"Partie en cours",message:"<p>Une partie est d\xE9j\xE0 en cours. \xCAtes-vous s\xFBr de vouloir en cr\xE9er une nouvelle ?</p>",confirmText:"Nouvelle partie"};return e.showTextModal(t)}else return!0};var Ne=[{path:"victory",title:"Victoire",loadComponent:()=>import("./chunk-EJRMBZNL.js")},{path:"game",title:"Partie en cours",loadComponent:()=>import("./chunk-LQ3VKOHZ.js")},{path:"new-game",title:"Nouvelle partie - Joueurs",loadComponent:()=>import("./chunk-LJVG6NGA.js")},{path:"new-game/roles",title:"Nouvelle partie - Roles",loadComponent:()=>import("./chunk-PACR2AG5.js")},{path:"roles-choice",title:"Choix des r\xF4les \xE0 jouer",canActivate:[Ee],loadComponent:()=>import("./chunk-VEVTHBNF.js")},{path:"roles-rules",title:"R\xE8gles des r\xF4les",loadComponent:()=>import("./chunk-5TUBNYFH.js")},{path:"status-legends",title:"L\xE9gende des statuts",loadComponent:()=>import("./chunk-Z62ATDUR.js")},{path:"options",title:"Options",loadComponent:()=>import("./chunk-IQDRD4S7.js")},{path:"",pathMatch:"full",title:"Accueil",loadComponent:()=>import("./chunk-PGYDACJX.js")}];var Fe={providers:[X(),Y(Ie),de(Ne,pe(ce),me()),De()]};var Ge=()=>({exact:!0});function Ve(i,e){i&1&&(a(0,"li")(1,"a",9),c(2,"Partie en cours"),l()())}var C=class i{constructor(){this.router=r(ae);this.gameService=r(_);this.activatedRoute=r(ie);this.destroyRef=r(H);this.title=u("");this.isMenuHidden=u(!0);this.isGameInProgress=this.gameService.isGameInProgress;this.menuIcon=we}ngOnInit(){this.router.events.pipe(b(e=>e instanceof oe),P(()=>this.activatedRoute),P(e=>{for(;e.firstChild;)e=e.firstChild;return e}),b(e=>e.outlet==="primary"),D(e=>e.title),y(this.destroyRef)).subscribe(e=>{this.title.set(e),this.closeMenu()})}openMenu(){this.isMenuHidden.set(!1)}closeMenu(){this.isMenuHidden.set(!0)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["lgmj-header"]],decls:29,vars:7,consts:[["size","lg",3,"click","icon"],[1,"menu-overlay"],["tabindex","0",1,"backdrop",3,"click","keyup.enter"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/roles-choice","routerLinkActive","active"],["routerLink","/roles-rules","routerLinkActive","active"],["routerLink","/status-legends","routerLinkActive","active"],[1,"divider"],["routerLink","/options","routerLinkActive","active"],["routerLink","/game","routerLinkActive","active"]],template:function(t,n){t&1&&(a(0,"header")(1,"fa-icon",0),m("click",function(){return n.openMenu()}),l(),a(2,"h1"),c(3),l()(),a(4,"div",1)(5,"div",2),m("click",function(){return n.closeMenu()})("keyup.enter",function(){return n.closeMenu()}),l(),a(6,"nav")(7,"header")(8,"span"),c(9,"Menu"),l()(),a(10,"menu")(11,"li")(12,"a",3),c(13,"Accueil"),l()(),$(14,Ve,3,0,"li"),a(15,"li")(16,"a",4),c(17,"Nouvelle partie"),l()(),a(18,"li")(19,"a",5),c(20,"R\xE8gles des r\xF4les"),l()(),a(21,"li")(22,"a",6),c(23,"L\xE9gende des statuts"),l()(),a(24,"li"),f(25,"div",7),l(),a(26,"li")(27,"a",8),c(28,"Options"),l()()()()()),t&2&&(d(),x("icon",n.menuIcon),d(2),v(n.title()),d(),h("hidden",n.isMenuHidden()),d(8),x("routerLinkActiveOptions",W(6,Ge)),d(2),J(n.isGameInProgress()?14:-1))},dependencies:[xe,le,se],styles:["header[_ngcontent-%COMP%]{align-items:center;background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:flex;flex-direction:row;height:var(--header-height);padding:0 var(--spacing-1);position:sticky;top:0;z-index:5}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-size-l);font-weight:var(--font-weight-regular);margin-left:var(--spacing-2)}.menu-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:10}.menu-overlay[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;opacity:.2;transition:opacity .3s ease-in-out}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{box-shadow:0 0 10px #0003;height:100%;max-width:80vw;min-width:60vw;background-color:#fff;position:absolute;z-index:20;transform:translate(0);transition:transform .3s ease-in-out}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-border-color);color:var(--main-text-color);display:block;padding:var(--spacing-075) var(--spacing-1);text-decoration:none}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:.5}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-border-color);margin-top:var(--spacing-2)}.menu-overlay.hidden[_ngcontent-%COMP%]{pointer-events:none}.menu-overlay.hidden[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{opacity:0}.menu-overlay.hidden[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{transform:translate(calc(-100% - 12px))}.menu-overlay.hidden[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{box-shadow:none}"],changeDetection:0})}};var Ue=(i,e)=>e.value;function Be(i,e){if(i&1){let t=q();a(0,"li",6),m("click",function(){let o=S(t).$implicit,s=w();return k(s.selectOption(o.value))})("keyup.enter",function(){let o=S(t).$implicit,s=w();return k(s.selectOption(o.value))}),c(1),l()}if(i&2){let t=e.$implicit;h("active",t.active),d(),K(" ",t.label," ")}}var O=class i{constructor(){this.selectOverlayService=r(Re);this.isHidden=u(!0);this.content=u(void 0);this.selectOverlayService.content.pipe(y()).subscribe(e=>{this.content.set(e),this.isHidden.set(!1)})}selectOption(e){this.selectOverlayService.selectValue(e),this.isHidden.set(!0)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["lgmj-select-overlay"]],decls:12,vars:3,consts:[[1,"select-overlay"],["tabindex","0",1,"backdrop",3,"click","keyup.enter"],[1,"select"],[1,"options"],["tabindex","0",1,"option",3,"active"],["tabindex","0",3,"click","keyup.enter"],["tabindex","0",1,"option",3,"click","keyup.enter"]],template:function(t,n){if(t&1&&(a(0,"section",0)(1,"div",1),m("click",function(){return n.selectOption(void 0)})("keyup.enter",function(){return n.selectOption(void 0)}),l(),a(2,"div",2)(3,"header")(4,"span"),c(5),l()(),a(6,"ul",3),Q(7,Be,2,3,"li",4,Ue),l(),a(9,"footer")(10,"span",5),m("click",function(){return n.selectOption(void 0)})("keyup.enter",function(){return n.selectOption(void 0)}),c(11,"ANNULER"),l()()()()),t&2){let o,s;h("hidden",n.isHidden()),d(5),v((o=n.content())==null?null:o.header),d(2),Z((s=n.content())==null?null:s.options)}},styles:[".select-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;bottom:0;left:0;z-index:10}.select-overlay[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;opacity:.2;transition:opacity .3s ease-in-out}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{background-color:#fff;bottom:0;position:absolute;transform:translateY(0);transition:transform .3s ease-in-out;width:100vw;z-index:20}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-border-color);font-size:var(--font-size-l);font-weight:var(--font-weight-light);padding:var(--spacing-1)}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{border-top:1px solid var(--light-border-color);font-size:var(--font-size-s);font-weight:var(--font-weight-light);padding:var(--spacing-1)}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{color:var(--main-text-color);display:block;padding:var(--spacing-1)}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option.active[_ngcontent-%COMP%]{font-weight:var(--font-weight-bold)}.select-overlay.hidden[_ngcontent-%COMP%]{pointer-events:none}.select-overlay.hidden[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{opacity:0}.select-overlay.hidden[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{transform:translateY(100%)}"],changeDetection:0})}};var M=class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["lgmj-root"]],decls:3,vars:0,consts:[["id","router-outlet"]],template:function(t,n){t&1&&f(0,"lgmj-header")(1,"router-outlet",0)(2,"lgmj-select-overlay")},dependencies:[C,re,O],encapsulation:2})}};ne(M,Fe).catch(i=>console.error(i));

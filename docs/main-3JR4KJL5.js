import{a as he}from"./chunk-KGFMD6BK.js";import{a as te,b as ne,c as ie,d as re,e as ae,f as le,g as ce,h as se,i as de,j as pe,k as me,l as ue,m as ge,n as C}from"./chunk-REGEYB5P.js";import"./chunk-J6VYBOVG.js";import{l as _e}from"./chunk-SCEWJJJJ.js";import{b as oe,c as y}from"./chunk-EFH6HX73.js";import"./chunk-ZM6HYW2V.js";import"./chunk-F5TIAXDW.js";import{b as ve,k as fe}from"./chunk-6TFKRWKD.js";import{a as $,b as Q,c as Y,d as q,e as J,f as K,g as Z,h as W,i as X,j as ee}from"./chunk-J6W7A42Q.js";import{Ja as H,Na as I,Oa as N,Qa as z,Ra as G,Sa as w,Sb as B,Ta as l,Ua as c,V as t,Va as f,Wa as u,Xa as g,Z as x,_ as S,_a as j,ab as E,ba as L,bb as _,cb as D,da as T,ea as p,nb as v,o as b,pa as s,pb as a,q as A,qb as h,rb as F,u as R,ub as V,x as k,ya as m,yb as U}from"./chunk-FDHCW5RC.js";import"./chunk-HMLYRQFI.js";import"./chunk-2NFLSA4Y.js";function ye(){let o=[t(te),t(ne),t(se),t(oe),t(pe),t(me),t(ue),t(ie),t(re),t(ae),t(ge),t(le),t(ce),t(de)];return R(o.map(e=>e.initialized$))}var Ce=()=>{if(t(C).isGameInProgress()){let e=t(_e),n={header:"Partie en cours",message:"<p>Une partie est d\xE9j\xE0 en cours. \xCAtes-vous s\xFBr de vouloir en cr\xE9er une nouvelle ?</p>",confirmText:"Nouvelle partie"};return e.showTextModal(n)}else return!0};var Oe=[{path:"victory",title:"Victoire",loadComponent:()=>import("./chunk-AQDZ33O4.js")},{path:"current-game",title:"Partie en cours",loadComponent:()=>import("./chunk-KKYBVZWB.js")},{path:"new-game",canActivate:[Ce],loadChildren:()=>import("./chunk-7ZYOATUJ.js")},{path:"help",loadChildren:()=>import("./chunk-KYTDMHO5.js")},{path:"options",title:"Options",loadComponent:()=>import("./chunk-THJNZY3W.js")},{path:"",pathMatch:"full",title:"Accueil",loadComponent:()=>import("./chunk-YE6YKZYE.js")}];var Me={providers:[T(),U(),H(ye),W(Oe,X(Z),ee())]};var ke=()=>({exact:!0});function xe(o,e){o&1&&(l(0,"li")(1,"a",9),a(2,"Partie en cours"),c()())}var O=class o{router=t(q);gameOrchestrator=t(C);activatedRoute=t(Q);destroyRef=t(L);title=p("");isMenuHidden=p(!0);isGameInProgress=this.gameOrchestrator.isGameInProgress;menuIcon=fe;ngOnInit(){this.router.events.pipe(k(e=>e instanceof $),b(()=>this.activatedRoute),b(e=>{for(;e.firstChild;)e=e.firstChild;return e}),k(e=>e.outlet==="primary"),A(e=>e.title),y(this.destroyRef)).subscribe(e=>{this.title.set(e),this.closeMenu()})}openMenu(){this.isMenuHidden.set(!1)}closeMenu(){this.isMenuHidden.set(!0)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=m({type:o,selectors:[["lgmj-header"]],decls:29,vars:7,consts:[["size","lg",3,"click","icon"],[1,"menu-overlay"],["tabindex","0",1,"backdrop",3,"click","keyup.enter"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/new-game","routerLinkActive","active"],["routerLink","/help/roles","routerLinkActive","active"],["routerLink","/help/status","routerLinkActive","active"],[1,"divider"],["routerLink","/options","routerLinkActive","active"],["routerLink","/current-game","routerLinkActive","active"]],template:function(n,i){n&1&&(l(0,"header")(1,"fa-icon",0),E("click",function(){return i.openMenu()}),c(),l(2,"h1"),a(3),c()(),l(4,"div",1)(5,"div",2),E("click",function(){return i.closeMenu()})("keyup.enter",function(){return i.closeMenu()}),c(),l(6,"nav")(7,"header")(8,"span"),a(9,"Menu"),c()(),l(10,"menu")(11,"li")(12,"a",3),a(13,"Accueil"),c()(),I(14,xe,3,0,"li"),l(15,"li")(16,"a",4),a(17,"Nouvelle partie"),c()(),l(18,"li")(19,"a",5),a(20,"R\xE8gles des r\xF4les"),c()(),l(21,"li")(22,"a",6),a(23,"L\xE9gende des statuts"),c()(),l(24,"li"),f(25,"div",7),c(),l(26,"li")(27,"a",8),a(28,"Options"),c()()()()()),n&2&&(s(),w("icon",i.menuIcon),s(2),h(i.title()),s(),v("hidden",i.isMenuHidden()),s(8),w("routerLinkActiveOptions",V(6,ke)),s(2),N(i.isGameInProgress()?14:-1))},dependencies:[ve,J,K],styles:["header[_ngcontent-%COMP%]{align-items:center;background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;display:flex;flex-direction:row;height:var(--header-height);padding:0 var(--spacing-1);position:sticky;top:0;z-index:5}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--font-size-l);font-weight:var(--font-weight-regular);margin-left:var(--spacing-2)}.menu-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:10}.menu-overlay[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;opacity:.2;transition:opacity .3s ease-in-out}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{box-shadow:0 0 10px #0003;height:100%;max-width:80vw;min-width:60vw;background-color:#fff;position:absolute;z-index:20;transform:translate(0);transition:transform .3s ease-in-out}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-border-color);color:var(--main-text-color);display:block;padding:var(--spacing-075) var(--spacing-1);text-decoration:none}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:.5}.menu-overlay[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-border-color);margin-top:var(--spacing-2)}.menu-overlay.hidden[_ngcontent-%COMP%]{pointer-events:none}.menu-overlay.hidden[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{opacity:0}.menu-overlay.hidden[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{transform:translate(calc(-100% - 12px))}.menu-overlay.hidden[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{box-shadow:none}"],changeDetection:0})};var Se=(o,e)=>e.value;function we(o,e){if(o&1){let n=j();u(0,"li",6),_("click",function(){let r=x(n).$implicit,d=D();return S(d.selectOption(r.value))})("keyup.enter",function(){let r=x(n).$implicit,d=D();return S(d.selectOption(r.value))}),a(1),g()}if(o&2){let n=e.$implicit;v("active",n.active),s(),F(" ",n.label," ")}}var M=class o{selectOverlayManager=t(he);isHidden=p(!0);content=p(void 0);constructor(){this.selectOverlayManager.content.pipe(y()).subscribe(e=>{this.content.set(e),this.isHidden.set(!1)})}selectOption(e){this.selectOverlayManager.selectValue(e),this.isHidden.set(!0)}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=m({type:o,selectors:[["lgmj-select-overlay"]],decls:12,vars:3,consts:[[1,"select-overlay"],["tabindex","0",1,"backdrop",3,"click","keyup.enter"],[1,"select"],[1,"options"],["tabindex","0",1,"option",3,"active"],["tabindex","0",3,"click","keyup.enter"],["tabindex","0",1,"option",3,"click","keyup.enter"]],template:function(n,i){if(n&1&&(u(0,"section",0)(1,"div",1),_("click",function(){return i.selectOption(void 0)})("keyup.enter",function(){return i.selectOption(void 0)}),g(),u(2,"div",2)(3,"header")(4,"span"),a(5),g()(),u(6,"ul",3),z(7,we,2,3,"li",4,Se),g(),u(9,"footer")(10,"span",5),_("click",function(){return i.selectOption(void 0)})("keyup.enter",function(){return i.selectOption(void 0)}),a(11,"ANNULER"),g()()()()),n&2){let r,d;v("hidden",i.isHidden()),s(5),h((r=i.content())==null?null:r.header),s(2),G((d=i.content())==null?null:d.options)}},styles:[".select-overlay[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;bottom:0;left:0;z-index:10}.select-overlay[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;opacity:.2;transition:opacity .3s ease-in-out}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{background-color:#fff;bottom:0;position:absolute;transform:translateY(0);transition:transform .3s ease-in-out;width:100vw;z-index:20}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-border-color);font-size:var(--font-size-l);font-weight:var(--font-weight-light);padding:var(--spacing-1)}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{border-top:1px solid var(--light-border-color);font-size:var(--font-size-s);font-weight:var(--font-weight-light);padding:var(--spacing-1)}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{color:var(--main-text-color);display:block;padding:var(--spacing-1)}.select-overlay[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .option.active[_ngcontent-%COMP%]{font-weight:var(--font-weight-bold)}.select-overlay.hidden[_ngcontent-%COMP%]{pointer-events:none}.select-overlay.hidden[_ngcontent-%COMP%]   .backdrop[_ngcontent-%COMP%]{opacity:0}.select-overlay.hidden[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{transform:translateY(100%)}"],changeDetection:0})};var P=class o{static \u0275fac=function(n){return new(n||o)};static \u0275cmp=m({type:o,selectors:[["lgmj-root"]],decls:3,vars:0,consts:[["id","router-outlet"]],template:function(n,i){n&1&&f(0,"lgmj-header")(1,"router-outlet",0)(2,"lgmj-select-overlay")},dependencies:[O,Y,M],encapsulation:2})};B(P,Me).catch(o=>console.error(o));
